<!DOCTYPE html>
<html>
<head>
<!DOCTYPE html>
<html lang="en-gb">



<link rel="stylesheet" href="/css/fonts.css">
<link rel="stylesheet" href="/css/main-site.css">
<link rel="stylesheet" href="/css/fa5-all.css">
<style type="text/css">
    /* Google Fonts */
 @import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap'); 

body {
	background-color: white;
	color: #404040;
}

/* Links */

a {
  color: #4254A7;
}

a:hover {
  color: #4254A7;
}

a:focus {
  outline-color: #4254A7;
}

.column25-left .sectionTitle a:hover:not(.current),
.column16-left .sectionTitle a:hover:not(.current) { /* Tutorial left sidebar */
  color: #404040;
}

.icon-attribution, 
.icon-attribution a {
  color: #404040;
  opacity: 75%;
}


/* Landing page content bands */

#homeContent .band.first {
  background-color: white;
}

#homeContent .band.second {
  background-color: #fcfcfc;
}

#homeContent .band.third {
  background-color: white;
}

/* Top navigation bar menu */

#rStudioHeader {
  background-color: white;
  color: black;
}

#rStudioHeader .productName {
  color: #4254A7;
}

#rStudioHeader .productName:hover,
#rStudioHeader .productName:focus {
  color: 00000075;
}

#rStudioHeader #menu .menuItem.a {
  background-color: #75aadb;
  color: black;
}

#rStudioHeader #menu .menuItem:hover {
  background-color: white;
  color: #4254A7;
}

#rStudioHeader #menu .menuItem.current {
  background-color: #fcfcfc;
  color: #4254A7;
  text-decoration: none;
}

/* Footer */

#rStudioFooter.band {
  background-color: #4254a730;
}

#rStudioFooter .bandContent #copyright {
  color: #4254A7;
}

/* Tables */

table tbody tr:nth-child(even){
  background-color: #fcfcfc;
}

table tbody tr:nth-child(odd){
  background-color: #1a162d10;
}

.latest {
  border-top: .5em solid #dae8f6;
}


/* ------Accent Font------- */



  h1, h2, 
  .article-title:not(a), /* Title on single pages, but not the Learn list article links*/
  div.tagline, /* homepage bands */
  #TableOfContents a, /* Sidebar on regular pages*/
  .articleCategory a, /* Sidebar on Blog & Learn list pages */
  .column75 .sectionTitle:not(.back-to), /* e.g. Blog list title, NOT "back to learn" */
  .column25-left .section:nth-child(n+2) .sectionTitle, /* Tutorial sidebar, all but 1st child */
  .column16-left .section:nth-child(n+2) .sectionTitle,
  a.learn-top-nav-item,  /* Bulleted toc items on Learn list page */
  .itemTitle, /* Blog list page titles & Learn List page subsection Titles */
  .tags-list a    /* taxonomy tags on Tutorial page, e.g. packages */                
                            { 
    font-family: 'Libre Baskerville' ;
  }





/* ----Accent color for headers, toc, etc.----- */



  h1,
  div.sectionTitle {
    color: #4254A7;
  }
  
  /* Sidebar links */
  
  a.learn-top-nav-item, /* Learn list page bulleted toc */
  #TableOfContents a,
  .articleCategory a,
  .column25-left .section:nth-child(n+2) a.sectionTitle,
  .column16-left .section:nth-child(n+2) a.sectionTitle { 
    color: #4254A7;
    opacity: .8;
  }
  
  .column25-left .section:nth-child(n+2) a.sectionTitle.current,
  .column16-left .section:nth-child(n+2) a.sectionTitle.current { 
    color: #4254A7;
  }
  
  a.learn-top-nav-item:hover,
  #TableOfContents a:hover,
  .articleCategory a:hover,
  .column25-left .section:nth-child(n+2) a.sectionTitle:hover,
  .column16-left .section:nth-child(n+2) a.sectionTitle:hover {
    color: #333850eb; 
    opacity: 95%;
    text-decoration: none;
  }
  
  .column25-left .sectionTitle.start:first-of-type a,
  .column16-left .sectionTitle.start:first-of-type a {
    color: #4254A7;
  }
  
  .column25-left .sectionTitle.current,
  .column16-left .sectionTitle.current {
    color: #4254A7;
  }
  
  /* headers and accent colors */
  
  .article-title,             /* Most page titles */
  .column75 div.sectionTitle {  /* Learn page section title */
    color: #4254A7;
  }
  
  h2 {
    color: #333850eb;
  }
  
  .itemTitle a { /* For Learn Page headers */
    color: #333850eb;
  }
  
  .itemTitle a:hover { /* For Learn List Page headers */
    color: #333850eb;
    opacity: 80%;
    text-decoration: none;
  }
  
  h3 {
    color: #333850eb;
    opacity: 95%;
  }
  
  h3 a {
    color: #4254A7;
    /*text-transform: none;
    font-size: 1.5em;
    letter-spacing: normal; */ /* was in tm, but check if i need here? */
  }
  
  h4 {
    color: #333850eb;
    opacity: 90%;
  }
  
  /* taxonomy tags, e.g. tutorial package links*/
  
  .tags-list .learning-objective {
    color: #333850eb;
    opacity: 85%;
  }
  
  .tags-list a {
    color: #333850eb;
    opacity: 56%;
  }
  
  .tags-list a:hover {
    opacity: 95%;
  }



/* Custom colored bullets */



  /*.article-content ul{
    list-style: none;
  } */

  .article-content ul li::before {
  	content: "\2022";
  	color: #f6b73c ;
  	display: inline-block;
  	width: 1.5em;
  	margin-left: -1.7em;
  }
  	
  .article-content ul > li > p {
    display: inline;
  }

  .article-content ul > li { /*to add back in space between bullet items that I took away by making p display inline */
    margin-top: 1em;
    margin-bottom: 1em;
  }
  
  .learn-top-nav ul li::before, /* For learn list page */
  .tutorial #TableOfContents ul li::before { /* For tutorials toc bullets */
  	content: "\2022";
  	color: #f6b73c ;
  	display: inline-block;
  	width: 1.5em;
  	margin-left: -1.8em; 
  }

.article-content ul, /* Regular lists */
.learn-top-nav ul,
.tutorial #TableOfContents ul {
  	list-style: none;
  	line-height: 1.6em;
  	padding-left: 2.5em;
  	/* margin-bottom: 0; */
  }
  
/* But also give div tip outline the same color as bullets*/

div.note, 
div.rstudio-tip, 
div.warning {
  border-color: #f6b73c ;
}
    



/* ------Capitalization of Headers------- */


  
  div.tagline {
    font-size: 1.2rem !important;
    text-transform: uppercase;
    font-weight: bold;
    letter-spacing: 2pt;
  }
  
  #menu {
    text-transform: uppercase;
    letter-spacing: 2pt;
    font-size: 0.9rem !important;
  }
  
  .column25 .sectionTitle,
  .column25 .sectionTitle a,
  .column16 .sectionTitle,
  .column16 .sectionTitle a {
    text-transform: uppercase;
    letter-spacing: 2pt;
    font-size: 0.8rem;
    font-weight: bold;
  }
  
  .icon-attribution, 
  .icon-attribution a {
    text-transform: uppercase;
  }
  
  /* Getting Started / Tutorial sidebar title */
  .column25-left .sectionTitle.start:first-of-type a,
  .column16-left .sectionTitle.start:first-of-type a {
    text-transform: uppercase;
    letter-spacing: 2pt;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  /*.e.g "Back to Learn" link */
  .column75 .section .sectionTitle a {
    text-transform: uppercase;
    letter-spacing: 2pt;
    font-weight: bold;
    font-size: 0.8rem;
  }
  
  /*  */
  

  

/* -----Hexes------*/


  #homeContent .band.first .bandContent {
    background-image: url(../css/images/tidy-back-01-thin.svg);
  }
  
  #homeContent .band.second .bandContent {
    background-image: url(../css/images/tidy-back-02-thin.svg);
  }
  
  #homeContent .band.third .bandContent {
    background-image: url(../css/images/tidy-back-03-thin.svg);
  }
  
  .package-section .packages .package {
    background-image: url(../css/images/tidy-packages-back-01-thin.svg); 
  }

  .package-section .packages .package:first-of-type {
      background-image: url(../css/images/tidy-packages-back-02-thin.svg); 
  }

  .package-section .packages .package:last-of-type {
      background-image: url(../css/images/tidy-packages-back-03-thin.svg); 
  } 



/*----- Borders------ */



  #rStudioHeader {
    box-shadow: 0 1px 0px 0px rgba(0, 0, 0, 0.15);
    -moz-box-shadow: 0 1px 0px 0px rgba(0, 0, 0, 0.15);
    -webkit-box-shadow: 0 1px 0px 0px rgba(0, 0, 0, 0.15);
  }
  
  #homeContent .band.second {
    border-bottom: solid 1px #d9d9d9;
    border-top: solid 1px #d9d9d9;
  }
  
  .column25,
  .column16 {
    border-left: solid #d9d9d9 1px;
  }
  
  .column25-left {
    padding-right: 3em;
    border-right: solid #d9d9d9 1px;
}

  .column16-left {
    padding-right: 1.5em;
    border-right: solid #d9d9d9 1px;
}

  .article-content.learn-list ul {
      border-left: 1px solid #d9d9d9;
  }



/*--- Event Stickies ---*/


  .event {
    -moz-box-shadow: 0 0px 0px 0px rgba(0, 0, 0, 0.1);
    -webkit-box-shadow: 0 0px 0px 0px rgba(0, 0, 0, 0.1);
    box-shadow: 0 0px 0px 0px rgba(0, 0, 0, 0.1);
  }




  .event:nth-child(2) {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg); 
  }
  .event:nth-child(3) {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg); 
  }




  .section .event {
    background-color: #eab0c41a;
  }




  .section .event {
    border-top: 7pt solid #a19ea936;
  }




  .section .event a{
      color: #1a162d;
  }




  .section .event {
      color: #404040;
  }


/* ------Test Drive Button-------*/














 

</style>

  <link rel="stylesheet" href="/css/">




<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.68.3" />
<title>nutriverse</title>
<meta property="og:title" content="tidyr 1.1.0" />
<meta property="og:description" content="tidyr 1.1.0 includes a bunch of quality of life improvements, particularly for pivoting and rectangling.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/2020/05/tidyr-1.1.0/" />



<meta property="twitter:card" content="summary_large_image">





    <meta property="og:title" content="tidyr 1.1.0 - nutriverse">
    <meta property="description" content="tidyr 1.1.0 includes a bunch of quality of life improvements, particularly for pivoting and rectangling.
">
    <meta property="og:description" content="tidyr 1.1.0 includes a bunch of quality of life improvements, particularly for pivoting and rectangling.
">

    
    
    
    
    
    
        <meta property="og:image" content="/blog/2020/05/tidyr-1.1.0/thumbnail-sq.jpg" >
    

    
    
    
    
        <meta name="twitter:image" content="/blog/2020/05/tidyr-1.1.0/thumbnail-wd.jpg" >
    





<link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png" />
<link rel="manifest" href="/images/favicons/site.webmanifest" />
<link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" />
<link rel="shortcut icon" href="/images/favicons/favicon.ico" />
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" href="/images/favicons/browserconfig.xml" >



<script type="text/javascript" src="/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/js/site.js"></script>



<link rel="icon" href="/images/favicon.ico" />


  
<script type="text/javascript" src="/js/clipboard.js"></script>






  


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

  







  <body>
    <div id="appTidyverseSite" class="shrinkHeader alwaysShrinkHeader">
      <div id="main">
        
        <div id="rStudioHeader">
          <div class="band">
            <div class="innards bandContent">
              <div>
                
                    <a href="/" class="nav-logo">
                      <img src="/images/Color/RStudio-Education.png" width="220.85" height="40" alt="RStudio Education">
                    </a>
              </div>
              <div id="menu">
  <div id="menuToggler"></div>
  <div id="menuItems" class="">
    
    
      
      
      
    <a class="menuItem " href="/packages/">Packages</a>
    
      
      
      
    <a class="menuItem current" href="/blog/">Blog</a>
    
      
      
      
    <a class="menuItem " href="/start/">Tutorials</a>
    
      
      
      
    <a class="menuItem " href="/learn/">Learn</a>
    
      
      
      
    <a class="menuItem " href="/help/">Help</a>
    
  </div>
</div>

            </div>
          </div>
        </div>
</head>
<body>


 




<div class="band padForHeader pushFooter">
  <div class="bandContent">
    <div class="full splitColumns withMobileMargins">
      <div class="column75">

      <h1 class="article-title">tidyr 1.1.0</h1>

      
      <div class="article-header" aria-hidden="true">
          
          <div class="photo">
          <img src='/blog/2020/05/tidyr-1.1.0/thumbnail-wd.jpg'>
          </div>
          
        
        <div class="photoCredit">Photo by <a href="https://unsplash.com/photos/__ZMnefoI3k">Jan Vasek</a>
        </div>
        
      </div>

      
      <span class="article-date">
        <i class="fas fa-calendar-day fa-fw"></i>&nbsp;&nbsp;2020/05/26
      </span>
      
      
        <p style="margin-bottom: 0.5em; margin-top: 0.85em;">
          <i class="fas fa-tags"></i>&nbsp;
      
          
            <a href="/tags/tidyr/">tidyr</a></p>
      
      
      
      
        <p style="margin-top: 0.5em;">
        <i class="fas fa-user-circle fa-fw"></i>&nbsp;
        




  

  Hadley Wickham
  



      
        </p>
      

      <div class="article-content">
      <p>We&rsquo;re delighted to announce that 
<a href="http://tidyr.tidyverse.org/" target="_blank" rel="noopener">tidyr</a> 1.1.0 is now available from CRAN. tidyr provides a set of tools for transforming data frames to and from tidy data, where each variable is a column and each observation is a row. Tidy data is a convention for matching the semantics and structure of your data that makes using the rest of the tidyverse (and many other R packages) much easier.</p>
<p>You can install install tidyr with:</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#00f">install.packages</span>(<span style="color:#ba2121">&#34;tidyr&#34;</span>)
</code></pre></div><p>This release doesn&rsquo;t include any major new excitement but it includes a whole passel of minor improvements building on the major changes in 
<a href="https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/" target="_blank" rel="noopener">tidyr 1.0.0</a>, and generally making everything easier to use and a bit more flexible. In this blog post, I&rsquo;ll give a quick run down on new pivoting features; see the 
<a href="https://github.com/tidyverse/tidyr/releases/tag/v1.1.0" target="_blank" rel="noopener">full release announcement</a> for the details of other changes.</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#00f">library</span>(tidyr)
</code></pre></div><h2 id="pivot_longer"><code>pivot_longer()</code></h2>
<ul>
<li>
<p><code>pivot_longer()</code> gains a new <code>names_transform</code> argument that allows you to
transform column names before they turn into data. For example, you can
use this new argument along with 
<a href="https://readr.tidyverse.org/reference/parse_number.html" target="_blank" rel="noopener"><code>readr::parse_number()</code></a> to
parse column names that really should be numbers:</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(id <span style="color:#666">=</span> <span style="color:#666">1</span>, wk1 <span style="color:#666">=</span> <span style="color:#666">0</span>, wk2 <span style="color:#666">=</span> <span style="color:#666">4</span>, wk3 <span style="color:#666">=</span> <span style="color:#666">9</span>, wk4 <span style="color:#666">=</span> <span style="color:#666">25</span>)
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_longer</span>(
  cols <span style="color:#666">=</span> <span style="color:#00f">starts_with</span>(<span style="color:#ba2121">&#34;wk&#34;</span>),
  names_to <span style="color:#666">=</span> <span style="color:#ba2121">&#34;week&#34;</span>,
  names_transform <span style="color:#666">=</span> <span style="color:#00f">list</span>(week <span style="color:#666">=</span> readr<span style="color:#666">::</span>parse_number),
)
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 4 x 3</span>
<span style="color:#408080;font-style:italic">#&gt;      id  week value</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1     1     0</span>
<span style="color:#408080;font-style:italic">#&gt; 2     1     2     4</span>
<span style="color:#408080;font-style:italic">#&gt; 3     1     3     9</span>
<span style="color:#408080;font-style:italic">#&gt; 4     1     4    25</span>
</code></pre></div></li>
<li>
<p><code>pivot_longer()</code> can now discard uninformative column names by setting
<code>names_to = character()</code>, thanks to idea and implementation from

<a href="https://github.com/mitchelloharawild" target="_blank" rel="noopener">Mitch O&rsquo;Hara Wild</a>:</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(id <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">2</span>, fruitful_panda <span style="color:#666">=</span> <span style="color:#666">3</span><span style="color:#666">:</span><span style="color:#666">4</span>, angry_aardvark <span style="color:#666">=</span> <span style="color:#666">5</span><span style="color:#666">:</span><span style="color:#666">6</span>)  
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_longer</span>(<span style="color:#666">-</span>id, names_to <span style="color:#666">=</span> <span style="color:#00f">character</span>())
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 4 x 2</span>
<span style="color:#408080;font-style:italic">#&gt;      id value</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;int&gt; &lt;int&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1     3</span>
<span style="color:#408080;font-style:italic">#&gt; 2     1     5</span>
<span style="color:#408080;font-style:italic">#&gt; 3     2     4</span>
<span style="color:#408080;font-style:italic">#&gt; 4     2     6</span>
</code></pre></div></li>
<li>
<p><code>pivot_longer()</code> no longer creates a <code>.copy</code> variable in the presence of
duplicate column names. This makes it more consistent with the handling
of non-unique pivot specifications.</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(id <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">3</span>, x <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">3</span>, x <span style="color:#666">=</span> <span style="color:#666">4</span><span style="color:#666">:</span><span style="color:#666">6</span>, .name_repair <span style="color:#666">=</span> <span style="color:#ba2121">&#34;minimal&#34;</span>)  
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_longer</span>(<span style="color:#666">-</span>id)
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 6 x 3</span>
<span style="color:#408080;font-style:italic">#&gt;      id name  value</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;int&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1 x         1</span>
<span style="color:#408080;font-style:italic">#&gt; 2     1 x         4</span>
<span style="color:#408080;font-style:italic">#&gt; 3     2 x         2</span>
<span style="color:#408080;font-style:italic">#&gt; 4     2 x         5</span>
<span style="color:#408080;font-style:italic">#&gt; 5     3 x         3</span>
<span style="color:#408080;font-style:italic">#&gt; 6     3 x         6</span>
</code></pre></div></li>
<li>
<p><code>pivot_longer()</code> automatically disambiguates non-unique outputs, which can
occur when the input variables include some additional component that you
don&rsquo;t care about and want to discard. You can discard parts of column names
either with <code>names_pattern</code> or with <code>NA</code> in <code>names_to</code>.</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(id <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">3</span>, x_1 <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">:</span><span style="color:#666">3</span>, y_2 <span style="color:#666">=</span> <span style="color:#666">4</span><span style="color:#666">:</span><span style="color:#666">6</span>, y_3 <span style="color:#666">=</span> <span style="color:#666">9</span><span style="color:#666">:</span><span style="color:#666">11</span>)
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_longer</span>(<span style="color:#666">-</span>id, names_pattern <span style="color:#666">=</span> <span style="color:#ba2121">&#34;(.)_.&#34;</span>)
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 9 x 3</span>
<span style="color:#408080;font-style:italic">#&gt;      id name  value</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;int&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1 x         1</span>
<span style="color:#408080;font-style:italic">#&gt; 2     1 y         4</span>
<span style="color:#408080;font-style:italic">#&gt; 3     1 y         9</span>
<span style="color:#408080;font-style:italic">#&gt; 4     2 x         2</span>
<span style="color:#408080;font-style:italic">#&gt; 5     2 y         5</span>
<span style="color:#408080;font-style:italic">#&gt; 6     2 y        10</span>
<span style="color:#408080;font-style:italic">#&gt; 7     3 x         3</span>
<span style="color:#408080;font-style:italic">#&gt; 8     3 y         6</span>
<span style="color:#408080;font-style:italic">#&gt; 9     3 y        11</span>
    
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_longer</span>(<span style="color:#666">-</span>id, names_sep <span style="color:#666">=</span> <span style="color:#ba2121">&#34;_&#34;</span>, names_to <span style="color:#666">=</span> <span style="color:#00f">c</span>(<span style="color:#ba2121">&#34;name&#34;</span>, <span style="color:#008000;font-weight:bold">NA</span>))
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 9 x 3</span>
<span style="color:#408080;font-style:italic">#&gt;      id name  value</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;int&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1 x         1</span>
<span style="color:#408080;font-style:italic">#&gt; 2     1 y         4</span>
<span style="color:#408080;font-style:italic">#&gt; 3     1 y         9</span>
<span style="color:#408080;font-style:italic">#&gt; 4     2 x         2</span>
<span style="color:#408080;font-style:italic">#&gt; 5     2 y         5</span>
<span style="color:#408080;font-style:italic">#&gt; 6     2 y        10</span>
<span style="color:#408080;font-style:italic">#&gt; 7     3 x         3</span>
<span style="color:#408080;font-style:italic">#&gt; 8     3 y         6</span>
<span style="color:#408080;font-style:italic">#&gt; 9     3 y        11</span>
    
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_longer</span>(<span style="color:#666">-</span>id, names_sep <span style="color:#666">=</span> <span style="color:#ba2121">&#34;_&#34;</span>, names_to <span style="color:#666">=</span> <span style="color:#00f">c</span>(<span style="color:#ba2121">&#34;.value&#34;</span>, <span style="color:#008000;font-weight:bold">NA</span>))
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 6 x 3</span>
<span style="color:#408080;font-style:italic">#&gt;      id     x     y</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1     1     4</span>
<span style="color:#408080;font-style:italic">#&gt; 2     1    NA     9</span>
<span style="color:#408080;font-style:italic">#&gt; 3     2     2     5</span>
<span style="color:#408080;font-style:italic">#&gt; 4     2    NA    10</span>
<span style="color:#408080;font-style:italic">#&gt; 5     3     3     6</span>
<span style="color:#408080;font-style:italic">#&gt; 6     3    NA    11</span>
</code></pre></div></li>
</ul>
<h2 id="pivot_wider"><code>pivot_wider()</code></h2>
<ul>
<li>
<p><code>pivot_wider()</code> gains a <code>names_sort</code> argument which allows you to sort
column names in order. The default, <code>FALSE</code>, orders columns by their
first appearance. I&rsquo;m considering changing the default value to <code>TRUE</code>
in a future version.</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(
  day_int <span style="color:#666">=</span> <span style="color:#00f">c</span>(<span style="color:#666">4</span>, <span style="color:#666">3</span>, <span style="color:#666">5</span>, <span style="color:#666">1</span>, <span style="color:#666">2</span>),
  day_fac <span style="color:#666">=</span> <span style="color:#00f">factor</span>(day_int, labels <span style="color:#666">=</span> <span style="color:#00f">c</span>(<span style="color:#ba2121">&#34;Mon&#34;</span>, <span style="color:#ba2121">&#34;Tue&#34;</span>, <span style="color:#ba2121">&#34;Wed&#34;</span>, <span style="color:#ba2121">&#34;Thu&#34;</span>, <span style="color:#ba2121">&#34;Fri&#34;</span>))
)
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_wider</span>(
  names_from <span style="color:#666">=</span> day_fac, 
  values_from <span style="color:#666">=</span> day_int
)
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 5</span>
<span style="color:#408080;font-style:italic">#&gt;     Thu   Wed   Fri   Mon   Tue</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     4     3     5     1     2</span>
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_wider</span>(
  names_from <span style="color:#666">=</span> day_fac,
  names_sort <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">TRUE</span>,
  values_from <span style="color:#666">=</span> day_int
)
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 5</span>
<span style="color:#408080;font-style:italic">#&gt;     Mon   Tue   Wed   Thu   Fri</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1     2     3     4     5</span>
</code></pre></div></li>
<li>
<p><code>pivot_wider()</code> gains a <code>names_glue</code> argument that allows you to construct
output column names with a glue specification when <code>names_to</code> includes
multiple columns.</p>
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df <span style="color:#666">&lt;-</span> <span style="color:#00f">tibble</span>(
  first <span style="color:#666">=</span> <span style="color:#ba2121">&#34;a&#34;</span>,
  second <span style="color:#666">=</span> <span style="color:#ba2121">&#34;1&#34;</span>,
  third <span style="color:#666">=</span> <span style="color:#ba2121">&#34;X&#34;</span>,
  val <span style="color:#666">=</span> <span style="color:#666">1</span>
)
df <span style="color:#666">%&gt;%</span> <span style="color:#00f">pivot_wider</span>(
  names_from <span style="color:#666">=</span> <span style="color:#00f">c</span>(first, second, third), 
  values_from <span style="color:#666">=</span> val,
  names_glue <span style="color:#666">=</span> <span style="color:#ba2121">&#34;{first}.{second}_{third}&#34;</span>
)
<span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 1</span>
<span style="color:#408080;font-style:italic">#&gt;   a.1_X</span>
<span style="color:#408080;font-style:italic">#&gt;   &lt;dbl&gt;</span>
<span style="color:#408080;font-style:italic">#&gt; 1     1</span>
</code></pre></div></li>
<li>
<p><code>pivot_wider()</code> arguments <code>values_fn</code> and <code>values_fill</code> can now be single
values; you now only need to use a named list if you want to use different
values for different value columns. You&rsquo;ll also get better errors if
they&rsquo;re not of the correct type.</p>
</li>
<li>
<p>Finally, both <code>pivot_wider()</code> and <code>pivot_longer()</code> are considerably more
performant, thanks largely to improvements in the underlying vctrs code
by 
<a href="http://github.com/DavisVaughan" target="_blank" rel="noopener">Davis Vaughn</a>.</p>
</li>
</ul>
<h2 id="acknowledgements">Acknowledgements</h2>
<p>Thanks to all 135 people who contributed to this version of tidyr by discussing issues and suggesting new code! 
<a href="https://github.com/abichat" target="_blank" rel="noopener">@abichat</a>, 
<a href="https://github.com/abiyug" target="_blank" rel="noopener">@abiyug</a>, 
<a href="https://github.com/adisarid" target="_blank" rel="noopener">@adisarid</a>, 
<a href="https://github.com/ahmohamed" target="_blank" rel="noopener">@ahmohamed</a>, 
<a href="https://github.com/akikirinrin" target="_blank" rel="noopener">@akikirinrin</a>, 
<a href="https://github.com/albertotb" target="_blank" rel="noopener">@albertotb</a>, 
<a href="https://github.com/alex-pax" target="_blank" rel="noopener">@alex-pax</a>, 
<a href="https://github.com/amirmazmi" target="_blank" rel="noopener">@amirmazmi</a>, 
<a href="https://github.com/andtheWings" target="_blank" rel="noopener">@andtheWings</a>, 
<a href="https://github.com/ashiklom" target="_blank" rel="noopener">@ashiklom</a>, 
<a href="https://github.com/atusy" target="_blank" rel="noopener">@atusy</a>, 
<a href="https://github.com/batpigandme" target="_blank" rel="noopener">@batpigandme</a>, 
<a href="https://github.com/bertrandh" target="_blank" rel="noopener">@bertrandh</a>, 
<a href="https://github.com/BillBlanc" target="_blank" rel="noopener">@BillBlanc</a>, 
<a href="https://github.com/billdenney" target="_blank" rel="noopener">@billdenney</a>, 
<a href="https://github.com/BrianDiggs" target="_blank" rel="noopener">@BrianDiggs</a>, 
<a href="https://github.com/bushdanielkwajaffa" target="_blank" rel="noopener">@bushdanielkwajaffa</a>, 
<a href="https://github.com/cderv" target="_blank" rel="noopener">@cderv</a>, 
<a href="https://github.com/CGMossa" target="_blank" rel="noopener">@CGMossa</a>, 
<a href="https://github.com/cgoo4" target="_blank" rel="noopener">@cgoo4</a>, 
<a href="https://github.com/charliejhadley" target="_blank" rel="noopener">@charliejhadley</a>, 
<a href="https://github.com/chester-gan" target="_blank" rel="noopener">@chester-gan</a>, 
<a href="https://github.com/cimentadaj" target="_blank" rel="noopener">@cimentadaj</a>, 
<a href="https://github.com/cjvanlissa" target="_blank" rel="noopener">@cjvanlissa</a>, 
<a href="https://github.com/cloversleaves" target="_blank" rel="noopener">@cloversleaves</a>, 
<a href="https://github.com/colearendt" target="_blank" rel="noopener">@colearendt</a>, 
<a href="https://github.com/dah33" target="_blank" rel="noopener">@dah33</a>, 
<a href="https://github.com/DanOvando" target="_blank" rel="noopener">@DanOvando</a>, 
<a href="https://github.com/dapperjapper" target="_blank" rel="noopener">@dapperjapper</a>, 
<a href="https://github.com/daranzolin" target="_blank" rel="noopener">@daranzolin</a>, 
<a href="https://github.com/davidhunterwalsh" target="_blank" rel="noopener">@davidhunterwalsh</a>, 
<a href="https://github.com/davisadamw" target="_blank" rel="noopener">@davisadamw</a>, 
<a href="https://github.com/DavisVaughan" target="_blank" rel="noopener">@DavisVaughan</a>, 
<a href="https://github.com/dchiu911" target="_blank" rel="noopener">@dchiu911</a>, 
<a href="https://github.com/dpastoor" target="_blank" rel="noopener">@dpastoor</a>, 
<a href="https://github.com/dpeterson71" target="_blank" rel="noopener">@dpeterson71</a>, 
<a href="https://github.com/dpprdan" target="_blank" rel="noopener">@dpprdan</a>, 
<a href="https://github.com/eantworth" target="_blank" rel="noopener">@eantworth</a>, 
<a href="https://github.com/earcanal" target="_blank" rel="noopener">@earcanal</a>, 
<a href="https://github.com/echasnovski" target="_blank" rel="noopener">@echasnovski</a>, 
<a href="https://github.com/enixam" target="_blank" rel="noopener">@enixam</a>, 
<a href="https://github.com/ericgunnink" target="_blank" rel="noopener">@ericgunnink</a>, 
<a href="https://github.com/florianm" target="_blank" rel="noopener">@florianm</a>, 
<a href="https://github.com/fmmattioni" target="_blank" rel="noopener">@fmmattioni</a>, 
<a href="https://github.com/franzbischoff" target="_blank" rel="noopener">@franzbischoff</a>, 
<a href="https://github.com/GegznaV" target="_blank" rel="noopener">@GegznaV</a>, 
<a href="https://github.com/geotheory" target="_blank" rel="noopener">@geotheory</a>, 
<a href="https://github.com/ggrothendieck" target="_blank" rel="noopener">@ggrothendieck</a>, 
<a href="https://github.com/gregorp" target="_blank" rel="noopener">@gregorp</a>, 
<a href="https://github.com/hadley" target="_blank" rel="noopener">@hadley</a>, 
<a href="https://github.com/HanOostdijk" target="_blank" rel="noopener">@HanOostdijk</a>, 
<a href="https://github.com/henry090" target="_blank" rel="noopener">@henry090</a>, 
<a href="https://github.com/iago-pssjd" target="_blank" rel="noopener">@iago-pssjd</a>, 
<a href="https://github.com/ifellows" target="_blank" rel="noopener">@ifellows</a>, 
<a href="https://github.com/infotroph" target="_blank" rel="noopener">@infotroph</a>, 
<a href="https://github.com/jam1015" target="_blank" rel="noopener">@jam1015</a>, 
<a href="https://github.com/jannikbuhr" target="_blank" rel="noopener">@jannikbuhr</a>, 
<a href="https://github.com/jasonpcasey" target="_blank" rel="noopener">@jasonpcasey</a>, 
<a href="https://github.com/jeffreypullin" target="_blank" rel="noopener">@jeffreypullin</a>, 
<a href="https://github.com/jennybc" target="_blank" rel="noopener">@jennybc</a>, 
<a href="https://github.com/jenren" target="_blank" rel="noopener">@jenren</a>, 
<a href="https://github.com/JenspederM" target="_blank" rel="noopener">@JenspederM</a>, 
<a href="https://github.com/jeonghyunwoo" target="_blank" rel="noopener">@jeonghyunwoo</a>, 
<a href="https://github.com/jjnote" target="_blank" rel="noopener">@jjnote</a>, 
<a href="https://github.com/jmh530" target="_blank" rel="noopener">@jmh530</a>, 
<a href="https://github.com/JohnCoene" target="_blank" rel="noopener">@JohnCoene</a>, 
<a href="https://github.com/joshua-theisen" target="_blank" rel="noopener">@joshua-theisen</a>, 
<a href="https://github.com/JosiahParry" target="_blank" rel="noopener">@JosiahParry</a>, 
<a href="https://github.com/jthomasmock" target="_blank" rel="noopener">@jthomasmock</a>, 
<a href="https://github.com/jwilliman" target="_blank" rel="noopener">@jwilliman</a>, 
<a href="https://github.com/kaneplusplus" target="_blank" rel="noopener">@kaneplusplus</a>, 
<a href="https://github.com/kaybenleroll" target="_blank" rel="noopener">@kaybenleroll</a>, 
<a href="https://github.com/kent37" target="_blank" rel="noopener">@kent37</a>, 
<a href="https://github.com/kiernann" target="_blank" rel="noopener">@kiernann</a>, 
<a href="https://github.com/krlmlr" target="_blank" rel="noopener">@krlmlr</a>, 
<a href="https://github.com/lionel-" target="_blank" rel="noopener">@lionel-</a>, 
<a href="https://github.com/Ljupch0" target="_blank" rel="noopener">@Ljupch0</a>, 
<a href="https://github.com/lymanmark" target="_blank" rel="noopener">@lymanmark</a>, 
<a href="https://github.com/maelle" target="_blank" rel="noopener">@maelle</a>, 
<a href="https://github.com/majazaloznik" target="_blank" rel="noopener">@majazaloznik</a>, 
<a href="https://github.com/mattantaliss" target="_blank" rel="noopener">@mattantaliss</a>, 
<a href="https://github.com/mattwarkentin" target="_blank" rel="noopener">@mattwarkentin</a>, 
<a href="https://github.com/maurolepore" target="_blank" rel="noopener">@maurolepore</a>, 
<a href="https://github.com/md0u80c9" target="_blank" rel="noopener">@md0u80c9</a>, 
<a href="https://github.com/mgirlich" target="_blank" rel="noopener">@mgirlich</a>, 
<a href="https://github.com/MikeEdinger" target="_blank" rel="noopener">@MikeEdinger</a>, 
<a href="https://github.com/mikemahoney218" target="_blank" rel="noopener">@mikemahoney218</a>, 
<a href="https://github.com/mikmart" target="_blank" rel="noopener">@mikmart</a>, 
<a href="https://github.com/mitchelloharawild" target="_blank" rel="noopener">@mitchelloharawild</a>, 
<a href="https://github.com/moodymudskipper" target="_blank" rel="noopener">@moodymudskipper</a>, 
<a href="https://github.com/msberends" target="_blank" rel="noopener">@msberends</a>, 
<a href="https://github.com/msgoussi" target="_blank" rel="noopener">@msgoussi</a>, 
<a href="https://github.com/mstackhouse" target="_blank" rel="noopener">@mstackhouse</a>, 
<a href="https://github.com/MyKo101" target="_blank" rel="noopener">@MyKo101</a>, 
<a href="https://github.com/nacnudus" target="_blank" rel="noopener">@nacnudus</a>, 
<a href="https://github.com/namelessjon" target="_blank" rel="noopener">@namelessjon</a>, 
<a href="https://github.com/ndrewGele" target="_blank" rel="noopener">@ndrewGele</a>, 
<a href="https://github.com/Nicktz" target="_blank" rel="noopener">@Nicktz</a>, 
<a href="https://github.com/npjc" target="_blank" rel="noopener">@npjc</a>, 
<a href="https://github.com/osorensen" target="_blank" rel="noopener">@osorensen</a>, 
<a href="https://github.com/PathosEthosLogos" target="_blank" rel="noopener">@PathosEthosLogos</a>, 
<a href="https://github.com/philipp-baumann" target="_blank" rel="noopener">@philipp-baumann</a>, 
<a href="https://github.com/PMSeitzer" target="_blank" rel="noopener">@PMSeitzer</a>, 
<a href="https://github.com/psychelzh" target="_blank" rel="noopener">@psychelzh</a>, 
<a href="https://github.com/randomgambit" target="_blank" rel="noopener">@randomgambit</a>, 
<a href="https://github.com/riinuots" target="_blank" rel="noopener">@riinuots</a>, 
<a href="https://github.com/romagnolid" target="_blank" rel="noopener">@romagnolid</a>, 
<a href="https://github.com/romainfrancois" target="_blank" rel="noopener">@romainfrancois</a>, 
<a href="https://github.com/rvino" target="_blank" rel="noopener">@rvino</a>, 
<a href="https://github.com/salim-b" target="_blank" rel="noopener">@salim-b</a>, 
<a href="https://github.com/shanepiesik" target="_blank" rel="noopener">@shanepiesik</a>, 
<a href="https://github.com/shannonpileggi" target="_blank" rel="noopener">@shannonpileggi</a>, 
<a href="https://github.com/sharleenw" target="_blank" rel="noopener">@sharleenw</a>, 
<a href="https://github.com/siddharthprabhu" target="_blank" rel="noopener">@siddharthprabhu</a>, 
<a href="https://github.com/simazhi" target="_blank" rel="noopener">@simazhi</a>, 
<a href="https://github.com/skr5k" target="_blank" rel="noopener">@skr5k</a>, 
<a href="https://github.com/skydavis435" target="_blank" rel="noopener">@skydavis435</a>, 
<a href="https://github.com/smingerson" target="_blank" rel="noopener">@smingerson</a>, 
<a href="https://github.com/smithjd" target="_blank" rel="noopener">@smithjd</a>, 
<a href="https://github.com/srnnkls" target="_blank" rel="noopener">@srnnkls</a>, 
<a href="https://github.com/stragu" target="_blank" rel="noopener">@stragu</a>, 
<a href="https://github.com/stufield" target="_blank" rel="noopener">@stufield</a>, 
<a href="https://github.com/tangcxx" target="_blank" rel="noopener">@tangcxx</a>, 
<a href="https://github.com/tdhock" target="_blank" rel="noopener">@tdhock</a>, 
<a href="https://github.com/the-Zian" target="_blank" rel="noopener">@the-Zian</a>, 
<a href="https://github.com/tomhopper" target="_blank" rel="noopener">@tomhopper</a>, 
<a href="https://github.com/topepo" target="_blank" rel="noopener">@topepo</a>, 
<a href="https://github.com/wgrundlingh" target="_blank" rel="noopener">@wgrundlingh</a>, 
<a href="https://github.com/wibeasley" target="_blank" rel="noopener">@wibeasley</a>, 
<a href="https://github.com/william3031" target="_blank" rel="noopener">@william3031</a>, 
<a href="https://github.com/wmoldham" target="_blank" rel="noopener">@wmoldham</a>, 
<a href="https://github.com/wolski" target="_blank" rel="noopener">@wolski</a>, 
<a href="https://github.com/xkdog" target="_blank" rel="noopener">@xkdog</a>, 
<a href="https://github.com/xtimbeau" target="_blank" rel="noopener">@xtimbeau</a>, and 
<a href="https://github.com/yusuzech" target="_blank" rel="noopener">@yusuzech</a>.</p>

      </div>


      


      </div> 
      
      <div class="column25">
        <div class="section hideOnMobile">
          
          <div class="sectionTitle">Contents</div>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#pivot_longer"><code>pivot_longer()</code></a></li>
    <li><a href="#pivot_wider"><code>pivot_wider()</code></a></li>
    <li><a href="#acknowledgements">Acknowledgements</a></li>
  </ul>
</nav>
          
        </div>
        <div class="section">
          





        </div>
      </div> 

    </div> 
  </div>  
</div> 



        <div id="rStudioFooter" class="band">
          <div class="bandContent">
            <div id="copyright">
              
              Â© <a href="https://www.rstudio.com/">RStudio Inc.</a>, 2020<br>
              
              
              Proudly supported by <a class="rstudioLogo" href="https://www.rstudio.com/" aria-label="RStudio Homepage"></a>
              
            </div>
            <div id="logos">
              <a href="https://github.com/rstudio-education" class="footerLogo gitHub" aria-label="Tidyverse GitHub organization"></a>
              <a href="https://twitter.com/hashtag/rstats" class="footerLogo twitter" aria-label="rstats hashtag on twitter.com"></a>
            </div>
          </div>
        </div>

      </div>  
    </div>  

    

    

    

  </body>
</html>

</body>
</html>
